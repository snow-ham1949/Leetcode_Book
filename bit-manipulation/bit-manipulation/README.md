---
description: 位元操作
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# 位元操作

以下是一些常見的位元操作技巧：

1. **設置位元**：使用 `OR` 操作（`|`）來設置數值中的特定位元。例如，`num |= (1 << i)` 將 `num` 的第 `i` 位設置為 1。
2. **清除位元**：使用 `AND` 操作（`&`）與其補碼來清除數值中的特定位元。例如，`num &= ~(1 << i)` 將 `num` 的第 `i` 位設置為 0。
3. **切換位元**：使用 `XOR` 操作（`^`）來切換數值中的特定位元。例如，`num ^= (1 << i)` 將 `num` 的第 `i` 位從 0 變為 1 或從 1 變為 0。
4. **檢查位元**：使用 `AND` 操作來檢查數值中的特定位元是否為 1。例如，`(num & (1 << i)) != 0` 檢查 `num` 的第 `i` 位是否為 1。
5. **最低位的 1**：使用 `num & -num` 可以直接獲得數值中最低位的 1。
6. **移除最低位的 1**：使用 `num & (num - 1)` 可以移除數值中最低位的 1，這在計數數值中 1 的個數時非常有用。
7. **獲得最低位的 0**：使用 `~num & (num + 1)` 可以獲得數值中最低位的 0。

講完基本的位元操作技巧就可以來講一個技巧：枚舉子集合。

### 枚舉子集合

想像我們現在有 3 個東西，每個都可以選或不選，要怎麼枚舉出這幾種組合？我們可以用二進位來代表，000 代表全部都不選，101 代表選第一個和第三個，依此類推，所以我們只需要枚舉 $$2^3$$種數字就可以了！以下是程式碼模板。

```cpp
for (int subset = 0; subset < (1 << n); subset++) {
    for (int i = 0; i < n; i++) {
        if (subset & (1 << i)) // choose i
    }
}
```

